<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–Ω–∞–∂—ë—Ä –ø—Ä–æ–º–ø—Ç–æ–≤ | NeuroGuide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        body { background: linear-gradient(135deg, #0a0a1a 0%, #15152a 100%); }
        .trainer-hero { text-align: center; padding: 60px 0; background: linear-gradient(135deg, rgba(166,136,255,0.15), rgba(108,208,255,0.15)); border-radius: 50px; margin: 30px 0; }
        .model-selector { display: flex; justify-content: center; gap: 20px; margin: 40px 0; flex-wrap: wrap; }
        .model-card { background: rgba(30,30,50,0.7); border: 2px solid transparent; border-radius: 30px; padding: 20px 30px; cursor: pointer; transition: 0.3s; text-align: center; min-width: 150px; backdrop-filter: blur(10px); }
        .model-card:hover { transform: translateY(-5px); border-color: #a688ff; }
        .model-card.active { border-color: #a688ff; background: rgba(166,136,255,0.15); }
        .model-icon { font-size: 2.5rem; color: #a688ff; margin-bottom: 10px; }
        .model-name { font-size: 1.2rem; font-weight: 600; color: white; }
        .model-desc { font-size: 0.85rem; color: #8f8faf; }
        .input-container { background: rgba(30,30,50,0.5); border-radius: 40px; padding: 40px; margin: 40px 0; backdrop-filter: blur(10px); }
        .prompt-input { width: 100%; padding: 25px; background: rgba(20,20,35,0.9); border: 2px solid rgba(255,255,255,0.05); border-radius: 25px; color: white; font-size: 1.1rem; }
        .prompt-input:focus { outline: none; border-color: #a688ff; }
        .button-group { display: flex; gap: 20px; justify-content: center; margin-top: 30px; }
        .primary-btn { background: linear-gradient(135deg, #a688ff, #8a6aff); border: none; color: white; padding: 18px 50px; border-radius: 50px; font-size: 1.2rem; cursor: pointer; }
        .secondary-btn { background: transparent; border: 2px solid rgba(255,255,255,0.1); color: #b0b0d0; padding: 18px 40px; border-radius: 50px; cursor: pointer; }
        .response-area { margin-top: 50px; display: none; }
        .response-card { background: linear-gradient(135deg, #1a1a30, #14142a); border-radius: 40px; padding: 40px; }
        .examples-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap: 25px; margin: 60px 0; }
        .example-card { background: rgba(30,30,50,0.5); border-radius: 25px; padding: 25px; cursor: pointer; transition: 0.3s; }
        .example-card:hover { transform: translateY(-5px); border-color: #a688ff; }
        .back-link { display: inline-flex; align-items: center; gap: 10px; color: #a688ff; text-decoration: none; margin: 30px 0; }
        .loader { border: 4px solid rgba(166,136,255,0.3); border-top: 4px solid #a688ff; border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite; margin: 30px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
<div class="container">
    <header class="header">
        <div class="logo">
            <div class="logo-icon"><i class="fas fa-brain"></i></div>
            <div class="logo-text"><h1>NeuroGuide</h1><p>–æ—Å–≤–æ–∏–º AI –≤–º–µ—Å—Ç–µ</p></div>
        </div>
        <nav class="nav">
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="prompts.html">–ü—Ä–æ–º–ø—Ç—ã</a>
            <a href="trainer.html" class="active">–¢—Ä–µ–Ω–∞–∂—ë—Ä</a>
            <a href="#">–ë–ª–æ–≥</a>
        </nav>
    </header>

    <a href="prompts.html" class="back-link"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</a>

    <div class="trainer-hero">
        <h1 class="section-title">üß™ –¢—Ä–µ–Ω–∞–∂—ë—Ä <span>–ø—Ä–æ–º–ø—Ç–æ–≤</span></h1>
        <p style="color: #b0b0d0;">–ü–∏—à–∏—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏</p>
    </div>

    <div class="model-selector">
        <div class="model-card active" data-model="mistral">
            <div class="model-icon"><i class="fas fa-bolt"></i></div>
            <div class="model-name">Mistral 7B</div>
            <div class="model-desc">–ë—ã—Å—Ç—Ä–∞—è –∏ —Ç–æ—á–Ω–∞—è</div>
        </div>
        <div class="model-card" data-model="llama">
            <div class="model-icon"><i class="fas fa-brain"></i></div>
            <div class="model-name">Llama 2</div>
            <div class="model-desc">–ú–æ—â–Ω–∞—è –æ—Ç Meta</div>
        </div>
        <div class="model-card" data-model="zephyr">
            <div class="model-icon"><i class="fas fa-wind"></i></div>
            <div class="model-name">Zephyr</div>
            <div class="model-desc">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è</div>
        </div>
    </div>

    <div class="input-container">
        <textarea id="promptInput" class="prompt-input" rows="5" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–º–ø—Ç..."></textarea>
        <div class="button-group">
            <button id="sendBtn" class="primary-btn"><i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            <button id="clearBtn" class="secondary-btn"><i class="fas fa-undo"></i> –û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
    </div>

    <div id="responseArea" class="response-area">
        <div class="response-card">
            <div id="aiResponse" style="color:white;"></div>
        </div>
    </div>

    <h2 style="text-align:center; color:white; margin:60px 0 40px;">üìö –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤</h2>
    <div class="examples-grid">
        <div class="example-card" onclick="useExample('–ù–∞–ø–∏—à–∏ –ø–æ—Å—Ç –¥–ª—è Instagram –æ –ø–æ–ª—å–∑–µ –º–µ–¥–∏—Ç–∞—Ü–∏–∏')">
            <h4 style="color:#a688ff;">üìù –ü–æ—Å—Ç –¥–ª—è Instagram</h4>
            <p style="color:#b0b0d0;">–ù–∞–ø–∏—à–∏ –ø–æ—Å—Ç –¥–ª—è Instagram –æ –ø–æ–ª—å–∑–µ –º–µ–¥–∏—Ç–∞—Ü–∏–∏</p>
        </div>
        <div class="example-card" onclick="useExample('–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É —Ä–µ–±—ë–Ω–∫—É')">
            <h4 style="color:#a688ff;">üî¨ –î–ª—è —Ä–µ–±—ë–Ω–∫–∞</h4>
            <p style="color:#b0b0d0;">–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É —Ä–µ–±—ë–Ω–∫—É</p>
        </div>
        <div class="example-card" onclick="useExample('–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ JavaScript')">
            <h4 style="color:#a688ff;">üíª –ö–æ–¥</h4>
            <p style="color:#b0b0d0;">–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ JavaScript</p>
        </div>
    </div>
</div>

<script>
// üîê –í–ê–® –¢–û–ö–ï–ù
const HF_TOKEN = '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';

// –ú–æ–¥–µ–ª–∏
const MODELS = {
    mistral: { name: 'Mistral 7B', api: 'mistralai/Mistral-7B-Instruct-v0.1' },
    llama: { name: 'Llama 2', api: 'meta-llama/Llama-2-7b-chat-hf' },
    zephyr: { name: 'Zephyr', api: 'HuggingFaceH4/zephyr-7b-beta' }
};

let currentModel = 'mistral';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤
function useExample(text) {
    const input = document.getElementById('promptInput');
    if (input) {
        input.value = text;
        input.focus();
    }
}

// –ó–∞–ø—Ä–æ—Å –∫ Hugging Face
async function askHuggingFace(prompt, modelKey) {
    const model = MODELS[modelKey];
    
    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–∫—Å–∏
    const proxyUrl = 'https://api.allorigins.win/raw?url=';
    const apiUrl = encodeURIComponent(`https://api-inference.huggingface.co/models/${model.api}`);
    
    try {
        const response = await fetch(proxyUrl + apiUrl, {
            headers: { 
                'Authorization': `Bearer ${HF_TOKEN}`,
                'Content-Type': 'application/json'
            },
            method: "POST",
            body: JSON.stringify({ 
                inputs: prompt,
                parameters: { max_new_tokens: 500 }
            })
        });
        
        const result = await response.json();
        return { success: true, message: result[0]?.generated_text || '–ù–µ—Ç –æ—Ç–≤–µ—Ç–∞' };
    } catch (error) {
        return { success: false, message: `‚ùå ${error.message}` };
    }
}

// –ó–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    const modelCards = document.querySelectorAll('.model-card');
    const promptInput = document.getElementById('promptInput');
    const sendBtn = document.getElementById('sendBtn');
    const clearBtn = document.getElementById('clearBtn');
    const responseArea = document.getElementById('responseArea');
    const aiResponse = document.getElementById('aiResponse');

    if (!sendBtn || !promptInput) return;

    // –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏
    modelCards.forEach(card => {
        card.addEventListener('click', function() {
            modelCards.forEach(c => c.classList.remove('active'));
            this.classList.add('active');
            currentModel = this.dataset.model;
        });
    });

    // –û—Ç–ø—Ä–∞–≤–∫–∞
    sendBtn.addEventListener('click', async function() {
        const prompt = promptInput.value.trim();
        if (!prompt) return alert('–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–º–ø—Ç!');
        if (!HF_TOKEN) return alert('–¢–æ–∫–µ–Ω –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!');

        aiResponse.innerHTML = '<div class="loader"></div>';
        responseArea.style.display = 'block';

        const result = await askHuggingFace(prompt, currentModel);
        aiResponse.innerHTML = result.success ? result.message.replace(/\n/g,'<br>') : result.message;
    });

    // –û—á–∏—Å—Ç–∫–∞
    clearBtn.addEventListener('click', function() {
        promptInput.value = '';
        responseArea.style.display = 'none';
    });

    // Ctrl+Enter
    promptInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && e.ctrlKey) sendBtn.click();
    });
});
</script>
</body>
</html>